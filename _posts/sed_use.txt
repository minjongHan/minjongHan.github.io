리눅스에서 여러 파일들의 동일한 내용을 전체 변경하거나 파일에서 원하는 내용만 삭제하고 싶을때

일일이 vi로 열어서 변경하지 않고 sed 명령어를 사용하면 유용합니다.

 

1. 1개 파일 내용 변경

sed -i 's/기존 내용/변경할 내용/g' 파일명.txt
2. 여러 파일 내용 변경

sed -i 's/기존 내용/변경할 내용/g' *.txt
3. 해당 문자가 포함된 줄 삭제

sed -i '/삭제 할 내용/d' *
4. 해당 문자가 포함된 줄만 삭제하지 않고 나머지 내용 모두 삭제 (로그에서 원하는 내용만 보고싶을때 유용)

sed -i '/삭제하지 않을 내용/!d' *
5. 첫번째 라인부터 해당 문자가 포함된 줄까지 삭제

sed -i '1,/삭제 할 내용/d' *.txt
6. 파일명 찾아서 파일 내용 수정(find + sed)

find ./ -name 'test.sh' -exec sed -i 's/.sh/.sh >> \/var\/log\/jobs\/`date +%Y%m%d`_test.log/g' {} \;
